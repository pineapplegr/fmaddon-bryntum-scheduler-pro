(function(a,b){const c=a();function f(a,b){return _cmpb(b-0x3e8,a);}while(!![]){try{const d=-parseInt(f(0x50b,0x51f))/0x1+-parseInt(f(0x515,0x520))/0x2+parseInt(f(0x553,0x535))/0x3*(parseInt(f(0x557,0x54f))/0x4)+parseInt(f(0x54e,0x531))/0x5*(parseInt(f(0x539,0x526))/0x6)+parseInt(f(0x548,0x54a))/0x7*(parseInt(f(0x541,0x528))/0x8)+parseInt(f(0x55c,0x541))/0x9*(-parseInt(f(0x51f,0x51b))/0xa)+parseInt(f(0x559,0x53f))/0xb*(parseInt(f(0x51a,0x529))/0xc);if(d===b){break;}else{c['push'](c['shift']());}}catch(e){c['push'](c['shift']());}}}(_cmpa,0x4c5fc));import{Container,__publicField}from'./chunk-6XMC67D5.js';var UndoRedoBase=class extends Container{static get[_cmpg(-0x61,-0x6a)](){function h(a,b){return _cmpg(a,b- -0x173);}return{'project':null,'stm':null,'text':null,'color':null,'showZeroActionBadge':null,'cls':'b-undo-controls\x20b-toolbar','layoutStyle':{'alignItems':h(-0x1d5,-0x1d7),'flexFlow':'row\x20nowrap','overflow':'visible'},'items':{'undoBtn':{'type':h(-0x1d2,-0x1d1),'icon':h(-0x1e8,-0x1df),'tooltip':h(-0x1d7,-0x1eb),'onAction':'up.onUndo'},'transactionsCombo':{'type':'combo','valueField':'idx','editable':![],'store':{},'emptyText':h(-0x1e6,-0x1c8),'onAction':h(-0x1cc,-0x1db),'displayValueRenderer':'up.transactionsDisplayValueRenderer'},'redoBtn':{'type':'button','icon':'b-icon-redo','tooltip':h(-0x1b9,-0x1bb),'onAction':h(-0x1d6,-0x1da)}},'overflowable':!![]};}['afterConstruct'](){function i(a,b){return _cmpg(b,a-0x4fd);}this[i(0x486,0x486)]();}[_cmpg(-0x40,-0x46)](a){function j(a,b){return _cmpg(a,b- -0x4c);}this[j(-0xbd,-0xa9)]('undoredo');a==null?void 0x0:a['ion']({'name':j(-0xa2,-0xbb),'recordingstop':j(-0xca,-0xc3),'restoringstop':j(-0xa7,-0xc3),'queueReset':'updateUndoRedoControls','disabled':j(-0xa8,-0xc3),'thisObj':this});}[_cmpg(-0x44,-0x4f)](a){function k(a,b){return _cmpg(b,a-0x4ef);}const {undoBtn:b,redoBtn:c}=a;if(this[k(0x49d,0x4af)]){b&&(b['color']=this[k(0x49d,0x4b0)]);c&&(c[k(0x49d,0x4a5)]=this['color']);}if(this[k(0x47c,0x497)]){b&&(b[k(0x47c,0x47b)]=k(0x476,0x47f));c&&(c[k(0x47c,0x481)]=k(0x481,0x464));}return super[k(0x4a0,0x4b1)](a);}[_cmpg(-0x93,-0x76)](a){function l(a,b){return _cmpg(a,b-0x4ee);}this['stm']=a[l(0x4a6,0x4a1)];}[_cmpg(-0x4c,-0x66)](){const {transactionsCombo:a}=this[m(-0x78,-0x78)];function m(a,b){return _cmpg(b,a-0x6);}a&&(a[m(-0x7b,-0x66)]=[[0x0,m(-0x67,-0x74)],...this['stm'][m(-0x56,-0x57)]['map']((b,c)=>[c+0x1,b||'Transaction\x20'+(c+0x1)])]);}['updateUndoRedoControls'](){const {stm:a,showZeroActionBadge:b}=this,{undoBtn:c,redoBtn:d,transactionsCombo:e}=this[n(-0x99,-0x83)];c['badge']=a[n(-0x4e,-0x58)]||(b?'0':'');d['badge']=a[n(-0x4d,-0x5f)]-a[n(-0x4f,-0x58)]||(b?'0':'');c['disabled']=!a[n(-0x5c,-0x4c)];function n(a,b){return _cmpg(a,b- -0x5);}d[n(-0x41,-0x5c)]=!a[n(-0x72,-0x75)];this['fillUndoRedoCombo']();if(e){e[n(-0x65,-0x5c)]=e[n(-0x68,-0x53)][n(-0x46,-0x5b)]<=0x1;}}['transactionsDisplayValueRenderer'](a,b){var c;function o(a,b){return _cmpg(b,a- -0x9a);}const d=((c=this[o(-0xe7,-0xf2)])==null?void 0x0:c[o(-0xed,-0xda)])||0x0;return d+o(-0x117,-0x125)+(b[o(-0xe8,-0x103)][o(-0xf0,-0xf7)]-d-0x1)+o(-0xf2,-0xee);}[_cmpg(-0x88,-0x7c)](){function p(a,b){return _cmpg(a,b-0x417);}const {stm:a,project:b}=this;if(a[p(0x3d2,0x3d0)]){if(a[p(0x3c4,0x3cb)]){b['queue'](()=>{a[q(-0xaa,-0xaa)]();function q(a,b){return p(b,a- -0x456);}return b[q(-0x9f,-0xb4)]();});}else{a[p(0x3c1,0x3ac)]();}}}[_cmpg(-0x38,-0x4a)](){function r(a,b){return _cmpg(b,a-0x177);}const {stm:a,project:b}=this;if(a[r(0x107,0x117)]){if(a[r(0x12b,0x11b)]){b[r(0x11b,0x137)](()=>{function s(a,b){return r(a-0x1c5,b);}a[s(0x2eb,0x2d9)]();return b['commitAsync']();});}else{a[r(0x126,0x117)]();}}}[_cmpg(-0x5c,-0x5f)](a){const {stm:b}=this,c=b[t(0x182,0x17b)]-a[t(0x13a,0x14e)];function t(a,b){return _cmpg(a,b-0x1ce);}if(c>0x0){b['canUndo']&&b[t(0x173,0x163)](c);}else if(c<0x0){b['canRedo']&&b[t(0x16c,0x17d)](-c);}}};__publicField(UndoRedoBase,_cmpg(-0x3d,-0x54),_cmpg(-0x33,-0x49));function _cmpb(a,b){const c=_cmpa();_cmpb=function(d,e){d=d-0x131;let f=c[d];return f;};return _cmpb(a,b);}function _cmpa(){const u=['50369SsAgLw','length','3141873Zhozsx','\x20redo\x20actions','disabled','count','L{UndoRedo.NoActions}','$name','position','color','redo','32606GbJZYy','changeItems','store','stm','revisionsEnabled','44LQncOV','onRedo','UndoRedoBase','L{UndoRedo.RedoLastAction}','canUndo','updateStm','items','value','10raofnf','widgetMap','\x20undo\x20actions\x20/\x20','onUndo','296837npitbm','403648NHcPsq','L{UndoRedo.Undo}','L{UndoRedo.UndoLastAction}','updateUndoRedoControls','updateProject','_$name','55992pjMYLn','text','176IuIOUu','1500XhaEer','canRedo','undoredo','L{UndoRedo.Redo}','Original\x20data','b-icon-undo','undo','configurable','10baFSIy','up.onTransactionSelected','up.onRedo','fillUndoRedoCombo','127383TlZnfZ','stretch','type','undoredobase','initClass','commitAsync','onTransactionSelected','button','detachListeners','queue'];_cmpa=function(){return u;};return _cmpa();}__publicField(UndoRedoBase,_cmpg(-0x60,-0x63),_cmpg(-0x79,-0x62));UndoRedoBase[_cmpg(-0x7b,-0x61)]();UndoRedoBase[_cmpg(-0x5d,-0x75)]='UndoRedoBase';function _cmpg(a,b){return _cmpb(b- -0x1b2,a);}export{UndoRedoBase};